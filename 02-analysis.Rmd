# Methods

In this project, we extracted R package names from CRAN and got summary daily download logs of R packages through web API maintained by r-hub[@rhub]. And we also collected release dates of R packages through CRAN. In addition, we also tried to scrap the number of commits in Github repository for R packages. Then we constructed eight exploratory data analysis sections: 

- a) we explored the daily download of all the packages on CRAN and figured out the number of packages occupied by different downloaded groups; 

- b) we analyzed the daily download trend of R itself and the found out the most popular version of R; 

- c) we compared the top 15 downloaded packages on CRAN on 1st April. from year 2013 to 2021 to see how the user preference changes;

- d) we figured out the relationship between initial release date and the total download count for last half a year; 

- e) we compared two closely related packages `fable` and `forecast` to see the difference between their MA (moving average); 

- f) we studied how the number of commits of master (main) branch on Github repository influence the total download count for last half a year; 

- g) we explored the relationship between the number of updates of packages and its download count; 

- h) we analyzed the name length pattern for both CRAN task view packages and all the packages on CRAN; 

- i) we explored how the alphabetical order of packages affected the download count and its statistic features (variance, median).

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE,
                      cache = TRUE,
                      cache.path = paste0("cache/",
                                          ifelse(knitr::is_html_output(), "html/", "latex/")),
                      fig.path = "figures/",
                      fig.align = "center",
                      message = FALSE,
                      warning = FALSE)

knitr::opts_knit$set(root.dir = "/Users/mac/ETC5543-cran-analysis2")

 library(tidyverse)
 library(cranlogs)
 library(glue)
 library(grid)
 library(pkgsearch)
 library(ctv)
 library(lubridate)
 library(jsonlite)
 library(htmltools)
 library(httpuv)
 library(httr)
 library(kableExtra)
 library(packageRank)
 library(fpp3)
 library(slider)
 library(rvest)
 library(rlist)
 library(available)
 library(xml2)
 library(stats)
 library(gglorenz)
 library(yaml)

theme_set(theme_bw(base_size = 14) +
            theme(plot.title.position = "plot",
                  axis.text=element_text(size=10),
                  axis.title=element_text(size=12,face="bold"),
                  plot.title = element_text(h = 0.5))
          )

# comment out below to include/exclude analysis
child_docs <- c(
                "02-S01-pkg-downloads.Rmd",
                "02-S01B-R-downloads.Rmd",
                "02-S02-top15.Rmd",
                "02-S03-release-date.Rmd",
                "02-S04-similarpkg-fable-forecast.Rmd",
                "02-S05-github-commits.Rmd",
                #"02-S06-update-times.Rmd",
                #"02-S07-pkg-name-length.Rmd",
                "02-S08-pkg-name-order.Rmd",
                NULL)
```

```{r child=child_docs}
```
