## Daily downloads of R

In this section, we study the daily downloads of R language itself from `r dd_start` to `r dd_end`. The data is obtained from the `cranlogs` package as well.

```{r vars-R-downloads, cache = TRUE}
R_downloads <- cran_downloads("R", from = dd_start, to = dd_end) %>% 
  mutate(year = year(date),
         day = yday(date),
         weekend = is_weekend(date)) 
```

```{block, type="discovery", echo = TRUE}
**Finding 1**: The number of downloads showed an upward trend over time, and the variance also increase with the downloads.
```

Figure \@ref(fig:R-download-trend) shows the download trend of R on CRAN over time. It shows a upward trend over time, and the variance also increases with the download count, which shows the volatility of the data is increasing as well. And that is because the number of users of R rises.

(ref:R-download-trend) The download trend of R on CRAN over time. 

```{r R-download-trend, fig.cap="(ref:R-download-trend)"}
R_downloads %>% 
  group_by(date) %>% 
  summarise(total = sum(count)) %>% 
  ggplot(aes(date, total)) +
  geom_line()
```

```{block, type="discovery", echo = TRUE}
**Finding 1**: The number of downloads showed an upward trend over time, and the variance also increase with the downloads.
```

Figure \@ref(fig:R-download-trend-os) shows the comparison of operation system for R users. The number of Windows users ranks first, followed by MacOS and SRC. For Microsoft has traditionally dominated the desktop and laptop market. And Microsoft officially claims there are 400 million active users of Windows 10 itself, while Apple revealed that there are now nearly 100 million active Mac users.[@warren2017]

(ref:R-download-trend-os) The download trend of R on CRAN over time. 

```{r R-download-trend-os, fig.cap="(ref:R-download-trend-os)"}
R_downloads %>% 
  group_by(os, date) %>% 
  summarise(total = sum(count)) %>% 
  ggplot(aes(date, total, color = os)) +
  geom_line()
```

And Table \@ref(tab:R-download-trend-version) shows the number of downloads of different versions of R. The most downloaded one is `r R_version$R_version[1]` with `r R_version$count[1]` times, followed by `r R_version$R_version[2]` with `r R_version$count[2]` times and `r R_version$R_version[3]` with `r R_version$count[3]` times. So, most users tend to install the latest version of R to get the newest update information of it.

```{r R-download-trend-version}
R_version <- R_downloads %>% 
  pull(version) %>%
  as.data.frame()

colnames(R_version)[1] <- "R_version"

R_version <- R_version %>%
  count(R_version) %>%
  arrange(desc(n)) %>%
  rename(count = n) 

R_version %>%
  kable(caption = "The number of downloads of different versions of R") %>%
  kable_styling(bootstrap_options = c("hover", "striped")) %>%
  scroll_box(width = "100%", height = "400px")

```
